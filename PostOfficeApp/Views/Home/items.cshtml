@using PostOfficeApp.Controllers

@{
    ViewData["Title"] = "订阅列表";
    List<string> contentCon=new List<string>(), periodicCon=new List<string>();
    string allactive = "teal item", news = "teal item", magzineact = " teal item";
    if ((KIND)ViewData["kind"] == KIND.ALL)
    {
        allactive += " active";
        contentCon = new List<string> { "商业/财经/营销", "教育/育儿/外语", "建筑/地理/园林" ,"时尚/娱乐/服饰",
                                "文体/艺术/广告", "旅游/摄影/数码", "时政/军事/资讯", "汽车/生活/百科",
                                "医学/美食/酒店", "电影/动漫/影视", "科技/会展/互联网"};
        periodicCon = new List<string> { "日报", "周报", "双周报", "旬报", "周刊", "半月刊", "月刊", "双月刊", "季刊" };
    }
    else if ((KIND)ViewData["kind"] == KIND.NEWSPAPER)
    {
        news += " active";
        periodicCon = new List<string> { "日报", "周报", "双周报", "旬报" };
    }
    else if ((KIND)ViewData["kind"] == KIND.MAGZINE)
    {
        magzineact += " active";
        contentCon = new List<string> { "商业/财经/营销", "教育/育儿/外语", "建筑/地理/园林" ,"时尚/娱乐/服饰",
                                "文体/艺术/广告", "旅游/摄影/数码", "时政/军事/资讯", "汽车/生活/百科",
                                "医学/美食/酒店", "电影/动漫/影视", "科技/会展/互联网"};
        periodicCon = new List<string> { "周刊", "半月刊", "月刊", "双月刊", "季刊" };
    }
}
<div class="ui large borderless fixed menu" id="top-nav" style="max-height:80px">
    <a class="item" asp-area="" asp-controller="Home" asp-action="Index">主页</a>
    <div class="ui dropdown item">
        <span class="item">订阅报刊<i class="dropdown icon"></i></span>
        <div class="menu">
            <div class="header">种类</div>
            @Html.ActionLink("报纸", "Items", "Home", new { k = KIND.NEWSPAPER }, new { @class = news })
            @Html.ActionLink("杂志", "Items", "Home", new { k = KIND.MAGZINE }, new { @class = magzineact })
            @Html.ActionLink("所有", "Items", "Home", new { k = KIND.ALL }, new { @class = allactive })
        </div>
    </div>
    <a class="item" asp-area="" asp-controller="Home" asp-action="About">关于</a>
    <a class="item" asp-area="" asp-controller="Home" asp-action="Contact">联系我们</a>
    <div class="right menu">
        <div class="ui fluid search item">
            <div class="ui icon input">
                <input class="prompt" placeholder="可按邮发代号、报纸名称搜索" name="search" type="text" />
                <i class="icon search"></i>
            </div>
        </div>
        <div class="item">@await Html.PartialAsync("_LoginPartial")</div>
    </div>
</div>
<h3 id="main-title">商品列表</h3>
<div class="container" ng-app="myApp">
    <!--条件筛选过滤框-->
    <div id="filter-bar" ng-controller="myFilter">
        <div id="tags">
            <div class="ui teal tag label" ng-repeat="tag in filtermap.content">
                {{tag}}<i class="delete icon" ng-click="deleteCondition($event,'content')"></i>
            </div>
            <div class="ui red tag label" ng-repeat="tag in filtermap.periodic">
                {{tag}}<i class="delete icon" ng-click="deleteCondition($event,'periodic')"></i>
            </div>
        </div>
        <div id="filter-menu" class="ui inverted fluid vertical menu">
            <div class="item header">条件筛选</div>
            @if (contentCon.Any()){
                <div class="ui sub header">按内容</div>
                <div class="condition-grp">
                    @foreach (var condition in contentCon)
                    {
                        <a ng-click="addCondition($event,'content')" class="condition">@condition</a>
                    }
                </div>
             }
            @if (periodicCon.Any())
            {
                <div class="ui sub header">按发刊周期</div>
                <div class="condition-grp">
                    @foreach (var condition in periodicCon)
                    {
                        <a ng-click="addCondition($event,'periodic')" class="condition">@condition</a>
                    }
                </div>
            }
        </div>
        <button type="button" class="ui red button" ng-click="clearTags()">清空条件</button>
    </div>
    <!--条目呈现区-->
    <div class="ui divided items" id="content-box">
        <div class="item">
            <div class="image">
                <img src="">
            </div>
            <div class="content">
                <a class="header">12 Years a Slave</a>
                <div class="meta">
                    <span class="cinema">Union Square 14</span>
                </div>
                <div class="description">
                    <p></p>
                </div>
                <div class="extra">
                    <div class="ui label">IMAX</div>
                    <div class="ui label"><i class="globe icon"></i> Additional Languages</div>
                </div>
            </div>
        </div>
        <div class="item">
            <div class="image">
                <img src="">
            </div>
            <div class="content">
                <a class="header">My Neighbor Totoro</a>
                <div class="meta">
                    <span class="cinema">IFC Cinema</span>
                </div>
                <div class="description">
                    <p></p>
                </div>
                <div class="extra">
                    <div class="ui right floated primary button">Buy tickets <i class="right chevron icon"></i> </div>
                    <div class="ui label">Limited</div>
                </div>

            </div>
        </div>
        <div class="item">
            <div class="image">
                <img src="">
            </div>
            <div class="content">
                <a class="header">Watchmen</a>
                <div class="meta">
                    <span class="cinema">IFC</span>
                </div>
                <div class="description">
                    <p></p>
                </div>
                <div class="extra">
                    <div class="ui right floated primary button">Buy tickets <i class="right chevron icon"></i> </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="~/lib/jquery/dist/jquery.js"></script>
<script src="~/lib/semantic.min.js"></script>
<script src="~/lib/angular.js"></script>
<script src="~/js/topnav.js"></script>
<script src="~/js/items.js"></script>
<link type="text/css" rel="stylesheet" href="~/css/items.css" />
